<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="shortcut icon"
      href="../static/favicon.ico"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../static/style.css" />
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <!-- Step 1 - Include the fusioncharts core library -->
    <script
      type="text/javascript"
      src="https://cdn.fusioncharts.com/fusioncharts/latest/fusioncharts.js"
    ></script>
    <!-- Step 2 - Include the fusion theme -->
    <script
      type="text/javascript"
      src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.fusion.js"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.1.0/dist/chart.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
      crossorigin="anonymous"
    ></script>
    <title>Stockgraph</title>
  </head>
  <body id="body-main-container">
    <nav class="navbar row">
      <h2 id="logo" class="left-align"><a href="/">Stockgraph</a></h2>
      <div class="navbar-items-container row">
        <div class="navbar-items-left row">
          <a href="/" class="navbar-item">Home</a>
          <a href="/strategies" class="navbar-item">Strategies</a>
          <a href="/orders" class="navbar-item">Order History</a>
          <a href="/study" class="navbar-item">Study</a>
        </div>
        <div class="navbar-items-right row">
          <div class="searchbar-container row">
            <i class="fas fa-search icon-large"></i>
            <input id="nav-searchbar" name="nav-searchbar" type="text" />
          </div>

          <a id="login-logout" class="navbar-item"> Logout </a>
        </div>
      </div>
    </nav>
    <div class="search-items-container" style="border: solid 2px red">
      <ul id="stockList">
        {% for stock in all_stocks%}
        <li class="search-symbol">
          <p class="symbol">{{stock.symbol}}</p>
          <p class="symbol-name">{{stock.name}}</p>
          <p class="symbol-name">{{stock.exchange}}</p>
        </li>
        {% endfor%}
      </ul>
    </div>

    <div id="main-ui-container" class="board-container">
      {% block content%} {% endblock%}
    </div>
  </body>
  <!-- <script>
    const charactersList = document.getElementById("stockList");
    const searchBar = document.getElementById("nav-searchbar");
    let hpCharacters = [];

    searchBar.addEventListener("keyup", (e) => {
      const searchString = e.target.value.toLowerCase();

      const filteredCharacters = hpCharacters.filter((character) => {
        return (
          character.name.toLowerCase().includes(searchString) ||
          character.symbol.toLowerCase().includes(searchString)
        );
      });
      displayCharacters(filteredCharacters);
    });

    const loadCharacters = async () => {
      try {
        const res = await fetch("https://hp-api.herokuapp.com/api/characters");
        hpCharacters = await res.json();

        displayCharacters(hpCharacters);
      } catch (err) {
        console.error(err);
      }
    };

    const displayCharacters = (characters) => {
      const htmlString = characters
        .map((character) => {
          return `
            <li class="character">
                <h2 class="search-symbol">${character.name}</h2>
                <p class="symbol-name">House: ${character.symbol}</p>
                <img  class="symbol-exchange" src="${character.exchange}"></img>
            </li>
        `;
        })
        .join("");
      charactersList.innerHTML = htmlString;
    };

    loadCharacters();
  </script> -->
</html>
